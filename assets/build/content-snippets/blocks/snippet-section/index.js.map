{"version":3,"file":"content-snippets/blocks/snippet-section/index.js","mappings":"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","sources":["webpack://jp/./assets/src/content-snippets/blocks/snippet-section/combobox.tsx","webpack://jp/./assets/src/content-snippets/blocks/snippet-section/edit.css","webpack://jp/./assets/src/content-snippets/blocks/snippet-section/edit.tsx","webpack://jp/./assets/src/content-snippets/blocks/snippet-section/save.tsx","webpack://jp/./assets/src/content-snippets/blocks/snippet-section/select-lesson-form.tsx","webpack://jp/./assets/src/content-snippets/blocks/snippet-section/view.css?eed4","webpack://jp/external window [\"wp\",\"blockEditor\"]","webpack://jp/external window [\"wp\",\"blocks\"]","webpack://jp/external window [\"wp\",\"components\"]","webpack://jp/external window [\"wp\",\"coreData\"]","webpack://jp/external window [\"wp\",\"data\"]","webpack://jp/external window [\"wp\",\"element\"]","webpack://jp/external window \"ReactJSXRuntime\"","webpack://jp/webpack/bootstrap","webpack://jp/webpack/runtime/compat get default export","webpack://jp/webpack/runtime/define property getters","webpack://jp/webpack/runtime/hasOwnProperty shorthand","webpack://jp/webpack/runtime/make namespace object","webpack://jp/./assets/src/content-snippets/blocks/snippet-section/index.ts"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { ComboboxControl, Spinner } from \"@wordpress/components\";\nimport { useState } from \"@wordpress/element\";\nexport function Combobox({ label, isLoading, options, onSelect, value, }) {\n    const [filteredOptions, setFilteredOptions] = useState(options);\n    return _jsxs(\"div\", { className: \"jp-blocks-combobox\", children: [_jsx(ComboboxControl, { label: isLoading ? \"Fetching Options...\" : label, value: value, onChange: onSelect, options: filteredOptions, __experimentalRenderItem: ({ item }) => {\n                    return (_jsx(\"div\", { className: \"jp-blocks-combobox__item \", style: {\n                            display: \"flex\",\n                            justifyContent: \"space-between\",\n                            alignItems: \"center\",\n                        }, children: _jsxs(\"div\", { children: [_jsx(\"p\", { style: {\n                                        fontSize: \"12px\",\n                                        fontWeight: \"bold\",\n                                        margin: 0,\n                                    }, children: item.label }), item.subLabel && _jsx(\"p\", { style: { fontSize: \"10px\", margin: 0 }, children: item.subLabel })] }) }, item.value));\n                }, onFilterValueChange: (inputValue) => {\n                    const filterd = options.filter((option) => {\n                        if (inputValue.length < 2)\n                            return true;\n                        return option.label\n                            .toLowerCase()\n                            .includes(inputValue.toLowerCase());\n                    });\n                    setFilteredOptions(filterd);\n                } }), isLoading && _jsx(Spinner, { style: {\n                    width: `calc(4px * 8)`,\n                    height: `calc(4px * 8)`,\n                } })] });\n}\n","// extracted by mini-css-extract-plugin\nexport {};","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useBlockProps, InnerBlocks, InspectorControls, } from '@wordpress/block-editor';\nimport { PanelBody } from \"@wordpress/components\";\nimport { SelectLessonForm } from './select-lesson-form';\nexport default function Edit({ clientId }) {\n    return _jsxs(\"div\", { ...useBlockProps(), children: [_jsx(InspectorControls, { children: _jsx(PanelBody, { title: \"Use Content From Lesson\", initialOpen: true, children: _jsx(SelectLessonForm, { onSubmit: (post) => postDataForContent(clientId, post) }) }) }), _jsx(InnerBlocks, {})] });\n}\nasync function postDataForContent(clientId, post) {\n    const heading = post.title.rendered.trim();\n    const description = (post.excerpt?.raw || post.content?.raw.substring(0, 10))?.trim();\n    const headingBlock = findHeadingBlock(clientId);\n    if (headingBlock && heading) {\n        updateBlockContent(headingBlock.clientId, heading);\n    }\n    const descriptionBlock = findParagraphBlock(clientId);\n    if (descriptionBlock && description) {\n        updateBlockContent(descriptionBlock.clientId, description);\n    }\n    const buttonBlock = findButtonBlock(clientId);\n    if (buttonBlock) {\n        updateButtonLink(buttonBlock.clientId, post.link);\n    }\n    const imageBlock = findImageBlock(clientId);\n    if (imageBlock) {\n        const url = await getLessonImage(post.id);\n        if (!url)\n            return;\n        await updateImageURL(imageBlock.clientId, url);\n    }\n    else {\n        const rootGroup = findGroupWithBGImage(clientId);\n        if (rootGroup) {\n            const url = await getLessonImage(post.id);\n            console.log(url);\n            if (!url)\n                return;\n            console.log(\"url\", url);\n            updateBGImageURl(rootGroup.clientId, url, rootGroup);\n        }\n    }\n}\nfunction findHeadingBlock(clientId) {\n    return findBlock(clientId, 'core/heading');\n}\nfunction findParagraphBlock(clientId) {\n    return findBlock(clientId, 'core/paragraph');\n}\nfunction findButtonBlock(clientId) {\n    return findBlock(clientId, 'core/button');\n}\nfunction findImageBlock(clientId) {\n    return findBlock(clientId, 'core/image');\n}\nasync function updateImageURL(clientId, url) {\n    wp.data.dispatch('core/block-editor').updateBlock(clientId, { attributes: { url } });\n}\nfunction updateButtonLink(clientId, url) {\n    wp.data.dispatch('core/block-editor').updateBlock(clientId, { attributes: { url } });\n}\nfunction findBlock(parentId, blockName) {\n    const block = wp.data.select('core/block-editor').getBlock(parentId);\n    if (block.name === blockName) {\n        return block;\n    }\n    if (block.innerBlocks) {\n        for (const innerBlock of block.innerBlocks) {\n            const found = findBlock(innerBlock.clientId, blockName);\n            if (found) {\n                return found;\n            }\n        }\n    }\n    return undefined;\n}\nfunction updateBlockContent(clientId, content) {\n    wp.data.dispatch('core/block-editor').updateBlock(clientId, { attributes: { content } });\n}\nasync function getLessonImage(postId) {\n    const url = await wp.apiFetch({ path: \"/jp/v1/lesson-video-url?id=\" + postId })\n        .then(data => data.url)\n        .catch(err => {\n        console.error(err);\n        return '';\n    });\n    return url;\n}\nfunction findGroupWithBGImage(clientId) {\n    const block = wp.data.select('core/block-editor').getBlock(clientId)?.innerBlocks?.[0];\n    console.log(block);\n    if (block.name !== \"core/group\")\n        return undefined;\n    console.log(block.attributes.style.background.backgroundImage);\n    if (!block.attributes.style.background.backgroundImage)\n        return undefined;\n    console.log(\"found image\");\n    return block;\n}\nfunction updateBGImageURl(clientId, url, block) {\n    console.log(\"Updating image url\", url);\n    wp.data.dispatch('core/block-editor').updateBlock(clientId, {\n        attributes: {\n            ...block.attributes,\n            style: {\n                ...block.attributes.style,\n                background: {\n                    ...block.attributes.style.background,\n                    backgroundImage: {\n                        ...block.attributes.style.background.backgroundImage,\n                        url,\n                    },\n                },\n            },\n        },\n    });\n}\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useBlockProps, InnerBlocks } from \"@wordpress/block-editor\";\nexport default function save() {\n    return _jsx(\"div\", { ...useBlockProps.save(), children: _jsx(InnerBlocks.Content, {}) });\n}\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Combobox } from \"./combobox\";\nimport { useState } from \"@wordpress/element\";\nimport { useSelect } from \"@wordpress/data\";\nimport {} from \"@wordpress/core-data\";\nconst POST_TYPE = \"sfwd-lessons\";\nconst CATEGORY = \"ld_lesson_category\";\nexport function SelectLessonForm({ onSubmit, }) {\n    const [selectedLesson, setSelectedLesson] = useState(undefined);\n    const { terms, termsLoading } = useSelect((select) => {\n        const query = {\n            per_page: -1,\n        };\n        return {\n            terms: select('core').getEntityRecords('taxonomy', CATEGORY, query),\n            termsLoading: select('core').isResolving('core', 'getEntityRecords', ['taxonomy', CATEGORY, query]),\n        };\n    }, []);\n    const { posts, postsLoading } = useSelect((select) => {\n        const query = {\n            per_page: -1,\n            post_type: POST_TYPE,\n            _embed: true,\n        };\n        return {\n            posts: select('core').getEntityRecords('postType', POST_TYPE, query),\n            postsLoading: select('core').isResolving('core', 'getEntityRecords', ['postType', POST_TYPE, query]),\n        };\n    }, []);\n    const isLoading = postsLoading || termsLoading;\n    console.log(posts);\n    return _jsxs(\"div\", { children: [_jsx(\"h1\", { children: \"Select Lesson Form\" }), _jsxs(\"form\", { onSubmit: (e) => {\n                    e.preventDefault();\n                    if (selectedLesson) {\n                        onSubmit(selectedLesson);\n                    }\n                }, children: [_jsx(Combobox, { label: \"Pick a Lesson to use it's content\", isLoading: isLoading, options: !isLoading && posts?.length ? posts.map(postToOption) : [], value: selectedLesson?.id.toString() ?? null, onSelect: (value) => {\n                            if (value) {\n                                const post = posts?.find(post => post.id.toString() === value);\n                                setSelectedLesson(post);\n                            }\n                        } }), _jsx(\"button\", { type: \"submit\", className: \"button button-small\", children: \"Submit\" })] })] });\n}\nfunction postToOption(post) {\n    const option = {\n        value: post.id.toString(),\n        label: post.title.raw,\n    };\n    if (post?._embedded['wp:term']?.length) {\n        const terms = post._embedded['wp:term'].map(tax => {\n            return tax.map((term) => {\n                return term.name;\n            }).flat();\n        });\n        option.subLabel = terms.filter(Boolean).join(', ');\n    }\n    return option;\n}\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport metadata from './block.json';\nimport Edit from './edit';\nimport './edit.css';\nimport './view.css';\nimport save from './save';\nregisterBlockType(metadata.name, {\n    attributes: metadata.attributes,\n    category: metadata.category,\n    title: metadata.title,\n    /**\n     * @see ./edit.js\n     */\n    edit: Edit,\n    /**\n     * @see ./save.js\n     */\n    save,\n});\n"],"names":["jsx","_jsx","jsxs","_jsxs","ComboboxControl","Spinner","useState","Combobox","label","isLoading","options","onSelect","value","filteredOptions","setFilteredOptions","className","children","onChange","__experimentalRenderItem","item","style","display","justifyContent","alignItems","fontSize","fontWeight","margin","subLabel","onFilterValueChange","inputValue","filterd","filter","option","length","toLowerCase","includes","width","height","useBlockProps","InnerBlocks","InspectorControls","PanelBody","SelectLessonForm","Edit","clientId","title","initialOpen","onSubmit","post","postDataForContent","heading","rendered","trim","description","excerpt","raw","content","substring","headingBlock","findHeadingBlock","updateBlockContent","descriptionBlock","findParagraphBlock","buttonBlock","findButtonBlock","updateButtonLink","link","imageBlock","findImageBlock","url","getLessonImage","id","updateImageURL","rootGroup","findGroupWithBGImage","console","log","updateBGImageURl","findBlock","wp","data","dispatch","updateBlock","attributes","parentId","blockName","block","select","getBlock","name","innerBlocks","innerBlock","found","undefined","postId","apiFetch","path","then","catch","err","error","background","backgroundImage","save","Content","useSelect","POST_TYPE","CATEGORY","_selectedLesson$id$to","selectedLesson","setSelectedLesson","terms","termsLoading","query","per_page","getEntityRecords","isResolving","posts","postsLoading","post_type","_embed","e","preventDefault","map","postToOption","toString","find","type","_embedded","tax","term","flat","Boolean","join","registerBlockType","metadata","category","edit"],"sourceRoot":""}